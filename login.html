<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ© Ø±Ø¤ÙŠØ© - ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'raaya-green': '#a7f3d0', 
                        'raaya-beige': '#f5f5dc',
                        'raaya-sky': '#87ceeb', 
                        'raaya-dark': '#1e293b', 
                        'raaya-light': '#ffffff',
                    },
                }
            }
        }
    </script>
    <link rel="stylesheet" href="css/style.css">
</head>
<body class="bg-raaya-beige text-gray-800 transition-colors duration-300 dark:bg-raaya-dark dark:text-raaya-light flex items-center justify-center min-h-screen">
    
    <div class="w-full max-w-md bg-white dark:bg-gray-800 rounded-xl shadow-2xl p-8 space-y-6">
        <h2 class="text-3xl font-bold text-center text-raaya-dark dark:text-raaya-light">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</h2>
        
        <form id="login-form" class="space-y-4">
            <div>
                <label for="username" class="block text-sm font-medium text-gray-700 dark:text-gray-300">Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…</label>
                <input type="text" id="username" required class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-raaya-sky focus:border-raaya-sky dark:bg-gray-700 dark:border-gray-600 dark:text-white">
            </div>
            
            <div>
                <label for="password" class="block text-sm font-medium text-gray-700 dark:text-gray-300">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</label>
                <div class="relative mt-1">
                    <input type="password" id="password" required class="block w-full pr-10 px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-raaya-sky focus:border-raaya-sky dark:bg-gray-700 dark:border-gray-600 dark:text-white">
                     <button type="button" id="togglePassword" class="absolute inset-y-0 left-0 flex items-center pr-3 text-gray-500 hover:text-raaya-dark dark:text-gray-400 dark:hover:text-raaya-light">
                        ğŸ‘ï¸
                    </button>
                </div>
            </div>
            
            <button type="submit" class="w-full px-4 py-2 bg-raaya-sky text-white font-bold rounded-lg shadow-md hover:bg-raaya-dark transition duration-300">
                ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
            </button>
        </form>
        
        <p id="message" class="text-center font-medium"></p>

        <div class="text-center text-sm">
            <a href="register.html" class="text-raaya-sky hover:underline">Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ Ø­Ø³Ø§Ø¨ØŸ ØªØ³Ø¬ÙŠÙ„ Ø¬Ø¯ÙŠØ¯</a>
            <span class="mx-2">|</span>
            <a href="index.html" class="text-gray-500 hover:underline">Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
        </div>
    </div>
    
    <script type="module">
        import { loginUser } from './js/progress_logic.js';
        
         // Ø¯Ø§Ù„Ø© Ø¥Ø¸Ù‡Ø§Ø±/Ø¥Ø®ÙØ§Ø¡ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
        document.getElementById('togglePassword').addEventListener('click', function () {
            const passwordInput = document.getElementById('password');
            const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
            passwordInput.setAttribute('type', type);
            this.textContent = type === 'password' ? 'ğŸ‘ï¸' : 'ğŸ”’';
        });

        document.getElementById('login-form').addEventListener('submit', (e) => {
            e.preventDefault();
            const username = document.getElementById('username').value.trim();
            const password = document.getElementById('password').value;
            const message = document.getElementById('message');

            if (loginUser(username, password)) {
                message.textContent = 'âœ… ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ù†Ø¬Ø§Ø­. Ø³ÙŠØªÙ… ØªÙˆØ¬ÙŠÙ‡Ùƒ Ù„ØµÙØ­Ø© Ø§Ù„Ù…Ø³ØªÙˆÙŠØ§Øª.';
                message.className = 'text-raaya-green text-center font-bold';
                setTimeout(() => {
                    // ğŸš¨ Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ Ø¥Ù„Ù‰ ØµÙØ­Ø© Ø§Ù„Ù…Ø³ØªÙˆÙŠØ§Øª Ù…Ø¨Ø§Ø´Ø±Ø©
                    window.location.href = 'level1.html'; 
                }, 1500);
            } else {
                message.textContent = 'âŒ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø£Ùˆ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©.';
                message.className = 'text-red-500 text-center font-medium';
            }
        });
    </script>
</body>
</html>