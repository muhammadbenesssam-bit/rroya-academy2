<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ© Ø±Ø¤ÙŠØ© - Ø§Ù„Ø³ÙŠØ±Ø© Ø§Ù„Ù†Ø¨ÙˆÙŠØ©</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'raaya-green': '#a7f3d0', 
                        'raaya-beige': '#f5f5dc',
                        'raaya-sky': '#87ceeb', 
                        'raaya-dark': '#1e293b', 
                        'raaya-light': '#ffffff',
                    },
                }
            }
        }
    </script>
    <link rel="stylesheet" href="css/style.css">
</head>
<body class="bg-raaya-beige text-gray-800 transition-colors duration-300 dark:bg-raaya-dark dark:text-raaya-light">
    
    <header class="bg-raaya-light dark:bg-gray-900 shadow-md transition-colors duration-300">
        <div class="container mx-auto p-4 flex justify-between items-center max-w-7xl">
            <a href="index.html" class="text-xl md:text-2xl font-bold text-raaya-dark dark:text-raaya-light">Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ© Ø±Ø¤ÙŠØ©</a>
            <a href="level1.html" class="text-raaya-sky hover:underline font-semibold text-sm md:text-base">Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ù…Ø³ØªÙˆÙŠØ§Øª &rarr;</a>
        </div>
    </header>

    <main class="container mx-auto p-4 md:p-8 max-w-7xl">
        <a href="level1.html" class="text-raaya-sky dark:text-raaya-green hover:underline font-semibold mb-4 block">
            &larr; Ø§Ù„Ø¹ÙˆØ¯Ø© Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø³ØªÙˆÙŠØ§Øª
        </a>
        <h1 class="text-3xl md:text-4xl font-extrabold text-raaya-dark dark:text-raaya-light mb-4 border-b pb-2 border-raaya-green">
            ğŸ•Œ Ù…Ø§Ø¯Ø© Ø§Ù„Ø³ÙŠØ±Ø© Ø§Ù„Ù†Ø¨ÙˆÙŠØ© (Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø£ÙˆÙ„)
        </h1>
        
        <div class="bg-raaya-light dark:bg-gray-800 p-4 rounded-lg shadow-md mb-8">
            <h2 class="text-xl font-bold dark:text-raaya-light mb-2">Ø§Ù„ØªÙ‚Ø¯Ù… ÙÙŠ Ø§Ù„Ù…Ø§Ø¯Ø©:</h2>
            <div class="w-full bg-gray-200 rounded-full h-3 dark:bg-gray-700 mb-2">
                <div id="subject-progress-bar" class="bg-raaya-green h-3 rounded-full transition-all duration-500" style="width: 0%"></div>
            </div>
            <p id="subject-progress-text" class="text-sm text-gray-600 dark:text-gray-400">0% (0/21 Ø¯Ø±Ø³)</p>
        </div>

        <div id="lessons-container" class="space-y-4">
            </div>
        
    </main>
    
    <footer class="bg-gray-200 dark:bg-gray-900 py-4 mt-12 transition-colors duration-300">
        <div class="container mx-auto text-center text-xs md:text-sm text-gray-600 dark:text-gray-400 max-w-7xl">
            <p>&copy; 2024 Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ© Ø±Ø¤ÙŠØ© Ù„Ù„Ø¹Ù„ÙˆÙ… Ø§Ù„Ø´Ø±Ø¹ÙŠØ©.</p>
            <p class="mt-1 font-semibold text-raaya-dark dark:text-raaya-light">ÙƒÙ† Ø°Ø§ Ø£Ø«Ø±</p>
        </div>
    </footer>

    <script type="module">
        // Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø§Ù„Ø¯ÙˆØ§Ù„ Ø§Ù„Ø¶Ø±ÙˆØ±ÙŠØ©
        import { isLessonOpen, updateSubjectProgressBar } from './js/progress_logic.js';
        
        const SUBJECT_NAME = 'seerah'; // Ù…Ù‡Ù…: Ø§Ù„Ø§Ø³Ù… ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ·Ø§Ø¨Ù‚ Ù…Ø§ ÙÙŠ progress_logic.js

        // Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¯Ø±ÙˆØ³ (ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ©)
        const seerahLessons = [
            { title: "Ù…Ù‚Ø¯Ù…Ø© ÙˆÙ…Ù†Ù‡Ø¬ Ø¯Ø±Ø§Ø³Ø© Ø§Ù„Ø³ÙŠØ±Ø© Ø§Ù„Ù†Ø¨ÙˆÙŠØ©", videoId: "example_seerah_1" },
            { title: "Ù…ÙˆÙ„Ø¯Ù‡ ÙˆÙ†Ø´Ø£ØªÙ‡ ØµÙ„Ù‰ Ø§Ù„Ù„Ù‡ Ø¹Ù„ÙŠÙ‡ ÙˆØ³Ù„Ù…", videoId: "example_seerah_2" },
            { title: "Ù…Ø±Ø­Ù„Ø© Ù…Ø§ Ù‚Ø¨Ù„ Ø§Ù„Ù†Ø¨ÙˆØ© ÙˆØ­Ø§Ø¯Ø«Ø© Ø§Ù„ÙÙŠÙ„", videoId: "example_seerah_3" },
            { title: "Ù†Ø²ÙˆÙ„ Ø§Ù„ÙˆØ­ÙŠ ÙˆØ¨Ø¯Ø¡ Ø§Ù„Ø¯Ø¹ÙˆØ© Ø³Ø±Ø§Ù‹", videoId: "example_seerah_4" },
            { title: "Ø§Ù„Ø¯Ø¹ÙˆØ© Ø¬Ù‡Ø±Ø§Ù‹ ÙˆØ§Ø¶Ø·Ù‡Ø§Ø¯ Ø§Ù„Ù…Ø³Ù„Ù…ÙŠÙ†", videoId: "example_seerah_5" },
            { title: "Ø§Ù„Ù‡Ø¬Ø±Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰ Ø¥Ù„Ù‰ Ø§Ù„Ø­Ø¨Ø´Ø©", videoId: "example_seerah_6" },
            { title: "Ø¹Ø§Ù… Ø§Ù„Ø­Ø²Ù† ÙˆØ§Ù„Ø¨Ø­Ø« Ø¹Ù† Ù†ØµØ±Ø© Ø¬Ø¯ÙŠØ¯Ø©", videoId: "example_seerah_7" },
            { title: "Ø§Ù„Ø¥Ø³Ø±Ø§Ø¡ ÙˆØ§Ù„Ù…Ø¹Ø±Ø§Ø¬ ÙˆØ¨ÙŠØ¹Ø© Ø§Ù„Ø¹Ù‚Ø¨Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰", videoId: "example_seerah_8" },
            { title: "Ø¨ÙŠØ¹Ø© Ø§Ù„Ø¹Ù‚Ø¨Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ© ÙˆØ§Ù„Ù‡Ø¬Ø±Ø© Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©", videoId: "example_seerah_9" },
            { title: "Ø¨Ù†Ø§Ø¡ Ø§Ù„Ø¯ÙˆÙ„Ø© ÙÙŠ Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© ÙˆØ§Ù„Ù…Ø¤Ø§Ø®Ø§Ø© Ø¨ÙŠÙ† Ø§Ù„Ù…Ù‡Ø§Ø¬Ø±ÙŠÙ† ÙˆØ§Ù„Ø£Ù†ØµØ§Ø±", videoId: "example_seerah_10" },
            { title: "ØºØ²ÙˆØ© Ø¨Ø¯Ø± Ø§Ù„ÙƒØ¨Ø±Ù‰ ÙˆÙ†ØªØ§Ø¦Ø¬Ù‡Ø§", videoId: "example_seerah_11" },
            { title: "ØºØ²ÙˆØ© Ø£Ø­Ø¯ ÙˆØ¯Ø±ÙˆØ³Ù‡Ø§", videoId: "example_seerah_12" },
            { title: "ØºØ²ÙˆØ© Ø§Ù„Ø£Ø­Ø²Ø§Ø¨ (Ø§Ù„Ø®Ù†Ø¯Ù‚) ÙˆØ¨Ù†Ùˆ Ù‚Ø±ÙŠØ¸Ø©", videoId: "example_seerah_13" },
            { title: "ØµÙ„Ø­ Ø§Ù„Ø­Ø¯ÙŠØ¨ÙŠØ© ÙˆØ£Ù‡Ù…ÙŠØªÙ‡", videoId: "example_seerah_14" },
            { title: "Ù…Ø±Ø§Ø³Ù„Ø© Ø§Ù„Ù…Ù„ÙˆÙƒ ÙˆØ¯Ø¹ÙˆØ© Ø§Ù„Ù‚Ø¨Ø§Ø¦Ù„", videoId: "example_seerah_15" },
            { title: "ÙØªØ­ Ù…ÙƒØ© ÙˆØ§Ù„Ø¯Ø±ÙˆØ³ Ø§Ù„Ù…Ø³ØªÙØ§Ø¯Ø© Ù…Ù†Ù‡", videoId: "example_seerah_16" },
            { title: "ØºØ²ÙˆØ© Ø­Ù†ÙŠÙ† ÙˆØ§Ù„Ø·Ø§Ø¦Ù", videoId: "example_seerah_17" },
            { title: "ØºØ²ÙˆØ© ØªØ¨ÙˆÙƒ ÙˆØ¥Ø³Ù„Ø§Ù… Ø§Ù„ÙˆÙÙˆØ¯", videoId: "example_seerah_18" },
            { title: "Ø­Ø¬Ø© Ø§Ù„ÙˆØ¯Ø§Ø¹ ÙˆÙˆÙØ§ØªÙ‡ ØµÙ„Ù‰ Ø§Ù„Ù„Ù‡ Ø¹Ù„ÙŠÙ‡ ÙˆØ³Ù„Ù…", videoId: "example_seerah_19" },
            { title: "ØµÙØ§Øª Ø§Ù„Ù†Ø¨ÙŠ ØµÙ„Ù‰ Ø§Ù„Ù„Ù‡ Ø¹Ù„ÙŠÙ‡ ÙˆØ³Ù„Ù… Ø§Ù„Ø®ÙÙ„Ù‚ÙŠØ© ÙˆØ§Ù„Ø®ÙÙ„Ù‚ÙŠØ©", videoId: "example_seerah_20" },
            { title: "Ù…Ù„Ø®Øµ Ø§Ù„Ø³ÙŠØ±Ø© Ø§Ù„Ù†Ø¨ÙˆÙŠØ© ÙˆØ§Ù„Ø¯Ø±ÙˆØ³ Ø§Ù„Ù…Ø³ØªÙØ§Ø¯Ø©", videoId: "example_seerah_21" },
        ];

        function createLessonsList(subjectName, lessonsArray, containerId) {
            const lessonsContainer = document.getElementById(containerId);
            if (!lessonsContainer) return;

            lessonsArray.forEach((lesson, index) => {
                const lessonNumber = index + 1;
                const lessonId = `${subjectName}-${lessonNumber}`;
                // Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¯Ø§Ù„Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© Ù„Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙØªØ­ Ø§Ù„Ø¯Ø±Ø³ (Ø­ØªÙ‰ Ù„Ù„Ø²ÙˆØ§Ø±)
                const isOpen = isLessonOpen(subjectName, lessonNumber); 

                const lessonLink = document.createElement('a');
                
                lessonLink.classList.add('block', 'p-4', 'rounded-lg', 'shadow-md', 'transition', 'duration-300', 'flex', 'justify-between', 'items-center', 'mt-2');

                if (isOpen) {
                    // Ø§Ù„Ø¯Ø±Ø³ Ù…ÙØªÙˆØ­
                    lessonLink.href = `lesson.html?id=${lessonId}&vid=${lesson.videoId}&subj=seerah`;
                    lessonLink.classList.add('bg-raaya-light', 'dark:bg-gray-700', 'hover:bg-raaya-sky/20', 'cursor-pointer');
                    lessonLink.innerHTML = `
                        <span class="text-lg font-semibold dark:text-raaya-light">Ø§Ù„Ø¯Ø±Ø³ Ø±Ù‚Ù… ${lessonNumber}: ${lesson.title}</span>
                        <span class="text-raaya-green">Ù…Ø´Ø§Ù‡Ø¯Ø© Ø§Ù„Ø¯Ø±Ø³ &rarr;</span>
                    `;
                } else {
                    // Ø§Ù„Ø¯Ø±Ø³ Ù…ØºÙ„Ù‚
                    lessonLink.href = '#';
                    lessonLink.classList.add('bg-gray-200', 'dark:bg-gray-800', 'cursor-not-allowed', 'opacity-70');
                    lessonLink.innerHTML = `
                        <span class="text-lg font-semibold text-gray-500 dark:text-gray-400">Ø§Ù„Ø¯Ø±Ø³ Ø±Ù‚Ù… ${lessonNumber}: ${lesson.title}</span>
                        <span class="text-red-500">Ø§Ù„Ø¯Ø±Ø³ Ù…ØºÙ„Ù‚ ğŸ”’</span>
                    `;
                    lessonLink.addEventListener('click', (e) => { e.preventDefault(); });
                }
                lessonsContainer.appendChild(lessonLink);
            });
        }

        document.addEventListener('DOMContentLoaded', () => {
            createLessonsList(SUBJECT_NAME, seerahLessons, 'lessons-container');
            updateSubjectProgressBar(SUBJECT_NAME);
        });
    </script>
</body>
</html>